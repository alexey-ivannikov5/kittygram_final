# Kittygram

## Описание проекта

**Kittygram** — это социальная сеть для обмена фотографиями и достижениями ваших домашних питомцев. Проект реализован как SPA , где фронтенд на React взаимодействует с бэкендом на Django через REST API.

**Основные возможности:**
*   **Регистрация и авторизация:** Пользователи могут создавать аккаунты и входить в систему (используется Token Authentication).
*   **Управление питомцами:** Добавление котиков с указанием имени, года рождения, цвета и загрузкой фотографии.
*   **Достижения:** Присвоение котикам забавных достижений (ачивок).
*   **Лента:** Просмотр списка всех котиков сервиса.
*   **Автоматизация:** Бэкенд автоматически вычисляет возраст питомца и конвертирует HEX-коды цветов в человекочитаемые названия.

## Стек технологий

### Backend
*   **Python** 3.10
*   **Django** 3.2.3 — основной фреймворк.
*   **Django REST Framework** 3.12.4 — API.
*   **Djoser** 2.1.0 — аутентификация и управление пользователями.
*   **PostgreSQL** 13 — база данных.
*   **Gunicorn** — WSGI-сервер.

### Frontend
*   **React** 17.0.2 — библиотека пользовательских интерфейсов.
*   **React Router Dom** 5.3.0 — маршрутизация (SPA).
*   **React Scripts** 5.0.0 — скрипты сборки и запуска.

### Инфраструктура
*   **Nginx** — веб-сервер и обратный прокси.
*   **Docker & Docker Compose** — контейнеризация и оркестрация.
*   **GitHub Actions** — CI/CD (автоматические тесты и деплой).

## Запуск проекта

### Предварительные требования
Для запуска проекта на локальной машине или сервере необходимо установить:
*   [Docker](https://docs.docker.com/get-docker/)
*   [Docker Compose](https://docs.docker.com/compose/install/)

### Пошаговая инструкция

1.  **Клонирование репозитория**
    ```bash
    git clone https://github.com/ВАШ_АККАУНТ/kittygram_final.git
    cd kittygram_final
    ```

2.  **Настройка переменных окружения**
    Создайте в корне проекта файл `.env` и заполните его по образцу:

    ```bash
    # Django настройки
    SECRET_KEY=django-insecure-ваш-секретный-ключ
    DEBUG=False
    ALLOWED_HOSTS=127.0.0.1,localhost,ваш-домен.рф

    # Настройки базы данных PostgreSQL
    POSTGRES_DB=kittygram_db
    POSTGRES_USER=kittygram_user
    POSTGRES_PASSWORD=kittygram_password
    DB_HOST=db
    DB_PORT=5432
    ```

3.  **Запуск контейнеров**
    Из корневой директории выполните команду:
    ```bash
    docker-compose up -d --build
    ```
    Это соберет образы для бэкенда, фронтенда и nginx, а затем запустит их.

4.  **Миграции и статика**
    После того как контейнеры запустятся, выполните миграции в базе данных и соберите статические файлы бэкенда:

    ```bash
    # Применяем миграции
    docker-compose exec backend python manage.py migrate

    # Собираем статику бэкенда (для админки и api)
    docker-compose exec backend python manage.py collectstatic --no-input

    # Копируем статику фронтенда в том (обычно выполняется автоматически при сборке, но если нужно вручную)
    # docker-compose exec frontend cp -r /app/build/. /static/
    ```

5.  **Создание суперпользователя**
    Для доступа в админ-панель Django создайте администратора:
    ```bash
    docker-compose exec backend python manage.py createsuperuser
    ```

## Переменные окружения (.env)

| Переменная | Описание | Пример |
|---|---|---|
| `SECRET_KEY` | Секретный ключ Django. Обязателен в продакшене. | `django-insecure-...` |
| `DEBUG` | Режим отладки. В проде ставить `False`. | `False` |
| `ALLOWED_HOSTS` | Список разрешенных хостов/доменов. | `127.0.0.1, localhost` |
| `POSTGRES_DB` | Имя создаваемой базы данных. | `kittygram` |
| `POSTGRES_USER` | Имя пользователя базы данных. | `postgres_user` |
| `POSTGRES_PASSWORD` | Пароль пользователя БД. | `strong_password` |
| `DB_HOST` | Сетевое имя контейнера с БД (как в docker-compose). | `db` |
| `DB_PORT` | Порт подключения к БД. | `5432` |
